{"version":3,"sources":["app.js"],"names":["resultado","document","querySelector","formulario","value","validarFormulario","e","preventDefault","buscarCapital","imprimirAlerta","msj","alerta","createElement","classList","add","textContent","appendChild","setTimeout","remove","capital","url","concat","fetch","then","respuesta","json","result","log","mostrarCapital","ciudad","temp","min","descripcion","innerHTML","max","window","onload","addEventListener"],"mappings":"aAIA,IAAAA,UAAAC,SAAAC,cAAA,cACMF,WAAYC,SAASC,cAAc,eACnCC,gBAAaF,SAASC,cAAc,YAA1CE,MAWA,SAASC,kBAAkBC,GACrBC,EAAAA,iBAKFC,gBAIJ,SAASC,eAAeC,GAGpB,IADqBT,SAASC,cAAc,eAC1B,CACRS,IAAMA,EAAGV,SAASW,cAAxB,KACAD,EAAOE,UAAcC,IAAA,UAAW,cAAe,YAAc,YAAa,UAAW,aAArF,MAA0G,OAAQ,WAAY,aAAc,aAC5IH,EAAOI,YAAPL,EACAV,UAAUgB,YAAYL,GACtBM,WAAW,WACDN,EAANO,UADM,MAOlB,SAASV,gBACL,IAAMW,EAAUlB,SAASC,cAAc,YAAYE,MAE1CgB,EAAA,oDAAAC,OAAAF,EAAA,WAAAE,OADG,mCACH,yBACTC,MAAMF,GACaG,KAAIC,SAAAA,GAAUC,OAAdD,EAAAC,SADnBF,KAEU,SAAAG,GACMC,QAAID,IAAZA,GACAE,eAAAF,KAOR,SAAMG,eAAgBH,GACtB,IAAUG,EAASH,EAAC,KACXI,EAAGJ,EAAO,KAAPA,KACHK,EAAGL,EAAO,KAAPA,SACNM,EAAAA,EAAcN,KAAdM,SACNhC,EAAA0B,EAAA,QAAA,GAAA,YASH1B,UAAAiC,WAAA,sIAAAZ,OAPwDQ,EAOxD,mEAAAR,OANyDS,EAMzD,mEAAAT,OALyDa,EAKzD,wEAAAb,OAJ8DU,EAI9D,wEAAAV,OAH8DW,EAG9D,8BA7DDG,OAAOC,OAAS,WACZjC,WAAWkC,iBAAiB,SAAUhC","file":"app.min.js","sourcesContent":["// variables\r\n\r\n// en resultado coloco la info\r\n// el formulario me muestra cuando iniciar las acciones\r\n// y el terminoBusqueda es el valor que tomo para hacer la API request\r\nconst resultado = document.querySelector('#resultado');\r\nconst formulario = document.querySelector('#formulario');\r\nconst terminoBusqueda = document.querySelector('#termino').value;\r\n\r\n// cuando cargue window escucha por el submit\r\nwindow.onload = () => {\r\n    formulario.addEventListener('submit', validarFormulario);\r\n}\r\n\r\n// al submit revisamos que tenga algun contenido\r\n// si esta vacio mostrara un mensaje\r\n// si tieneuna ciudad mostrara la ciudad\r\nfunction validarFormulario(e) {\r\n    e.preventDefault();\r\n    // if(terminoBusqueda === '') {\r\n    //     imprimirAlerta('Agrega una capital');\r\n    //     return;\r\n    // }\r\n    buscarCapital();\r\n} \r\n\r\n// definimos como se mostrara la alerta\r\nfunction imprimirAlerta(msj) {\r\n\r\n    const existeAlerta = document.querySelector('.bg-red-500');\r\n    if(!existeAlerta) {\r\n        const alerta = document.createElement('P');\r\n        alerta.classList.add('mx-auto', 'text-center', 'font-bold',  'uppercase', 'rounded', 'bg-red-500', 'p-3', 'mt-4', 'max-w-lg', 'text-white', 'border-lg' );\r\n        alerta.textContent = msj;\r\n        resultado.appendChild(alerta);\r\n        setTimeout(() => {\r\n            alerta.remove()\r\n        }, 3000)\r\n    }   \r\n}\r\n\r\n// hacemos la API request\r\nfunction buscarCapital() {\r\n    const capital = document.querySelector('#termino').value;\r\n    const key = '10971b499be61b351760e8d57f0e3a4d';\r\n    const url = `http://api.openweathermap.org/data/2.5/weather?q=${capital}&appid=${key}&units=metric&lang=es`;\r\n    fetch(url)\r\n        .then(respuesta => respuesta.json())\r\n        .then(result => {\r\n            console.log(result)\r\n            mostrarCapital(result);\r\n    })\r\n}\r\n\r\n\r\n// mostramos el resultado en pantalla\r\nfunction mostrarCapital(result) {\r\n    const ciudad = result['name']\r\n    const temp = result['main']['temp']\r\n    const min = result['main']['temp_min']\r\n    const max = result['main']['temp_max']\r\n    const descripcion = result['weather'][0]['description']\r\n    resultado.innerHTML += `\r\n    <section class=\"flex-col justify-center mb-1 rounded bg-indigo-100\">\r\n        <h2 class=\"text-center p-3 uppercase\">Clima en ${ciudad}</h2>\r\n        <p class=\"text-center p-1\" >Temperatura Actual: ${temp}°</p>\r\n        <p class=\"text-center p-1\" >Temperatura Mínima: ${max}°</p>\r\n        <p class=\"text-center p-1 pb-3\" >Temperatura Máxima: ${min}°</p>\r\n        <p class=\"text-center p-1 pb-3\" >Temperatura Máxima: ${descripcion}</p>\r\n    </section>\r\n    `;   \r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}