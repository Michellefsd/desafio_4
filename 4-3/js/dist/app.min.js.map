{"version":3,"sources":["app.js"],"names":["resultado","document","querySelector","formulario","value","validarFormulario","e","preventDefault","terminoBusqueda","buscarCapital","imprimirAlerta","msj","alerta","createElement","existeAlerta","add","textContent","classList","appendChild","setTimeout","capital","concat","fetch","url","then","respuesta","json","log","mostrarCapital","result","ciudad","min","max","descripcion","temp","window","onload","addEventListener"],"mappings":"aAIA,IAAAA,UAAAC,SAAAC,cAAA,cACMF,WAAYC,SAASC,cAAc,eACnCC,gBAAaF,SAASC,cAAc,YAA1CE,MAWA,SAASC,kBAAkBC,GACrBC,EAAAA,iBACqB,KAApBC,gBAGFC,gBAHED,eAAe,sBAQtB,SAASE,eAAeC,GAEpB,IAFoBA,SAAKT,cAAA,eAEJD,CAEjB,IAAMW,EAASX,SAASY,cAAc,KADtCC,EAAAA,UAAcC,IAAA,UAAA,cAAA,YAAA,YAAA,UAAA,aAAA,MAAA,OAAA,WAAA,aAAA,aACRH,EAAMI,YAAYH,EACxBD,UAAOK,YAAcL,GACrBA,WAAOI,WACPhB,EAAUkB,UACVC,MAOR,SAASV,gBACL,IAAMW,EAAUnB,SAASC,cAAc,YAAYE,MAA7CgB,EAAO,oDAAAC,OAAbD,EAAa,WAAAC,OADRZ,mCACQ,yBACba,MAASC,GACAC,KAAA,SAAAC,GAAA,OAAAA,EAAAC,SACHH,KACDC,SAAAA,GAAkBC,QAASE,IAACD,GACvBE,eAAMC,KAQpB,SAASD,eAAeC,GAAxB,IAASD,EAAAA,EAAeC,KACdC,EAASD,EAAO,KAAPA,KACLE,EAAGF,EAAO,KAAPA,SACJG,EAAGH,EAAO,KAAPA,SACHI,EAAUJ,EAAQ,QAA3B,GAAmB,YACnB7B,UAAMiC,WAAN,sIAAAZ,OAUHS,EAVG,mEAAAT,OAIsDa,EAJtD,mEAAAb,OAKsDW,EALtD,wEAAAX,OAM2DU,EAN3D,wEAAAV,OAO2DY,EAP3D,8BAnDJE,OAAOC,OAAS,WACZjC,WAAWkC,iBAAiB,SAAUhC","file":"app.min.js","sourcesContent":["// variables\n\n// en resultado coloco la info\n// el formulario me muestra cuando iniciar las acciones\n// y el terminoBusqueda es el valor que tomo para hacer la API request\nconst resultado = document.querySelector('#resultado');\nconst formulario = document.querySelector('#formulario');\nconst terminoBusqueda = document.querySelector('#termino').value;\n\n// cuando cargue window escucha por el submit\nwindow.onload = () => {\n    formulario.addEventListener('submit', validarFormulario);\n}\n\n// al submit revisamos que tenga algun contenido\n// si esta vacio mostrara un mensaje\n// si tieneuna ciudad mostrara la ciudad\nfunction validarFormulario(e) {\n    e.preventDefault();\n    if(terminoBusqueda === '') {\n        imprimirAlerta('Agrega una capital');\n        return;\n    }\n    buscarCapital();\n} \n\n// definimos como se mostrara la alerta\nfunction imprimirAlerta(msj) {\n\n    const existeAlerta = document.querySelector('.bg-red-500');\n    if(!existeAlerta) {\n        const alerta = document.createElement('P');\n        alerta.classList.add('mx-auto', 'text-center', 'font-bold',  'uppercase', 'rounded', 'bg-red-500', 'p-3', 'mt-4', 'max-w-lg', 'text-white', 'border-lg' );\n        alerta.textContent = msj;\n        resultado.appendChild(alerta);\n        setTimeout(() => {\n            alerta.remove()\n        }, 3000)\n    }   \n}\n\n// hacemos la API request\nfunction buscarCapital() {\n    const capital = document.querySelector('#termino').value;\n    const key = '10971b499be61b351760e8d57f0e3a4d';\n    const url = `http://api.openweathermap.org/data/2.5/weather?q=${capital}&appid=${key}&units=metric&lang=es`;\n    fetch(url)\n        .then(respuesta => respuesta.json())\n        .then(result => {\n            console.log(result)\n            mostrarCapital(result);\n    })\n}\n\n\n// mostramos el resultado en pantalla\nfunction mostrarCapital(result) {\n    const ciudad = result['name']\n    const temp = result['main']['temp']\n    const min = result['main']['temp_min']\n    const max = result['main']['temp_max']\n    const descripcion = result['weather'][0]['description']\n    resultado.innerHTML += `\n    <section class=\"flex-col justify-center mb-1 rounded bg-indigo-100\">\n        <h2 class=\"text-center p-3 uppercase\">Clima en ${ciudad}</h2>\n        <p class=\"text-center p-1\" >Temperatura Actual: ${temp}°</p>\n        <p class=\"text-center p-1\" >Temperatura Mínima: ${max}°</p>\n        <p class=\"text-center p-1 pb-3\" >Temperatura Máxima: ${min}°</p>\n        <p class=\"text-center p-1 pb-3\" >Temperatura Máxima: ${descripcion}</p>\n    </section>\n    `;   \n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]}