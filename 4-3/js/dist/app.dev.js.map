{"version":3,"sources":["app.js"],"names":["resultado","document","querySelector","formulario","terminoBusqueda","value","window","onload","addEventListener","validarFormulario","e","preventDefault","buscarCapital","imprimirAlerta","msj","existeAlerta","alerta","createElement","classList","add","textContent","appendChild","setTimeout","remove","capital","key","url","fetch","then","respuesta","json","result","console","log","mostrarCapital","ciudad","temp","min","max","descripcion","innerHTML"],"mappings":";;AAAA;AAEA;AACA;AACA;AACA,IAAMA,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAlB;AACA,IAAMC,UAAU,GAAGF,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAAnB;AACA,IAAME,eAAe,GAAGH,QAAQ,CAACC,aAAT,CAAuB,UAAvB,EAAmCG,KAA3D,C,CAEA;;AACAC,MAAM,CAACC,MAAP,GAAgB,YAAM;AAClBJ,EAAAA,UAAU,CAACK,gBAAX,CAA4B,QAA5B,EAAsCC,iBAAtC;AACH,CAFD,C,CAIA;AACA;AACA;;;AACA,SAASA,iBAAT,CAA2BC,CAA3B,EAA8B;AAC1BA,EAAAA,CAAC,CAACC,cAAF,GAD0B,CAE1B;AACA;AACA;AACA;;AACAC,EAAAA,aAAa;AAChB,C,CAED;;;AACA,SAASC,cAAT,CAAwBC,GAAxB,EAA6B;AAEzB,MAAMC,YAAY,GAAGd,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAArB;;AACA,MAAG,CAACa,YAAJ,EAAkB;AACd,QAAMC,MAAM,GAAGf,QAAQ,CAACgB,aAAT,CAAuB,GAAvB,CAAf;AACAD,IAAAA,MAAM,CAACE,SAAP,CAAiBC,GAAjB,CAAqB,SAArB,EAAgC,aAAhC,EAA+C,WAA/C,EAA6D,WAA7D,EAA0E,SAA1E,EAAqF,YAArF,EAAmG,KAAnG,EAA0G,MAA1G,EAAkH,UAAlH,EAA8H,YAA9H,EAA4I,WAA5I;AACAH,IAAAA,MAAM,CAACI,WAAP,GAAqBN,GAArB;AACAd,IAAAA,SAAS,CAACqB,WAAV,CAAsBL,MAAtB;AACAM,IAAAA,UAAU,CAAC,YAAM;AACbN,MAAAA,MAAM,CAACO,MAAP;AACH,KAFS,EAEP,IAFO,CAAV;AAGH;AACJ,C,CAED;;;AACA,SAASX,aAAT,GAAyB;AACrB,MAAMY,OAAO,GAAGvB,QAAQ,CAACC,aAAT,CAAuB,UAAvB,EAAmCG,KAAnD;AACA,MAAMoB,GAAG,GAAG,kCAAZ;AACA,MAAMC,GAAG,8DAAuDF,OAAvD,oBAAwEC,GAAxE,0BAAT;AACAE,EAAAA,KAAK,CAACD,GAAD,CAAL,CACKE,IADL,CACU,UAAAC,SAAS;AAAA,WAAIA,SAAS,CAACC,IAAV,EAAJ;AAAA,GADnB,EAEKF,IAFL,CAEU,UAAAG,MAAM,EAAI;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACAG,IAAAA,cAAc,CAACH,MAAD,CAAd;AACP,GALD;AAMH,C,CAGD;;;AACA,SAASG,cAAT,CAAwBH,MAAxB,EAAgC;AAC5B,MAAMI,MAAM,GAAGJ,MAAM,CAAC,MAAD,CAArB;AACA,MAAMK,IAAI,GAAGL,MAAM,CAAC,MAAD,CAAN,CAAe,MAAf,CAAb;AACA,MAAMM,GAAG,GAAGN,MAAM,CAAC,MAAD,CAAN,CAAe,UAAf,CAAZ;AACA,MAAMO,GAAG,GAAGP,MAAM,CAAC,MAAD,CAAN,CAAe,UAAf,CAAZ;AACA,MAAMQ,WAAW,GAAGR,MAAM,CAAC,SAAD,CAAN,CAAkB,CAAlB,EAAqB,aAArB,CAApB;AACA/B,EAAAA,SAAS,CAACwC,SAAV,qJAEqDL,MAFrD,8EAGsDC,IAHtD,oFAIsDE,GAJtD,yFAK2DD,GAL3D,yFAM2DE,WAN3D;AASH","sourcesContent":["// variables\r\n\r\n// en resultado coloco la info\r\n// el formulario me muestra cuando iniciar las acciones\r\n// y el terminoBusqueda es el valor que tomo para hacer la API request\r\nconst resultado = document.querySelector('#resultado');\r\nconst formulario = document.querySelector('#formulario');\r\nconst terminoBusqueda = document.querySelector('#termino').value;\r\n\r\n// cuando cargue window escucha por el submit\r\nwindow.onload = () => {\r\n    formulario.addEventListener('submit', validarFormulario);\r\n}\r\n\r\n// al submit revisamos que tenga algun contenido\r\n// si esta vacio mostrara un mensaje\r\n// si tieneuna ciudad mostrara la ciudad\r\nfunction validarFormulario(e) {\r\n    e.preventDefault();\r\n    // if(terminoBusqueda === '') {\r\n    //     imprimirAlerta('Agrega una capital');\r\n    //     return;\r\n    // }\r\n    buscarCapital();\r\n} \r\n\r\n// definimos como se mostrara la alerta\r\nfunction imprimirAlerta(msj) {\r\n\r\n    const existeAlerta = document.querySelector('.bg-red-500');\r\n    if(!existeAlerta) {\r\n        const alerta = document.createElement('P');\r\n        alerta.classList.add('mx-auto', 'text-center', 'font-bold',  'uppercase', 'rounded', 'bg-red-500', 'p-3', 'mt-4', 'max-w-lg', 'text-white', 'border-lg' );\r\n        alerta.textContent = msj;\r\n        resultado.appendChild(alerta);\r\n        setTimeout(() => {\r\n            alerta.remove()\r\n        }, 3000)\r\n    }   \r\n}\r\n\r\n// hacemos la API request\r\nfunction buscarCapital() {\r\n    const capital = document.querySelector('#termino').value;\r\n    const key = '10971b499be61b351760e8d57f0e3a4d';\r\n    const url = `http://api.openweathermap.org/data/2.5/weather?q=${capital}&appid=${key}&units=metric&lang=es`;\r\n    fetch(url)\r\n        .then(respuesta => respuesta.json())\r\n        .then(result => {\r\n            console.log(result)\r\n            mostrarCapital(result);\r\n    })\r\n}\r\n\r\n\r\n// mostramos el resultado en pantalla\r\nfunction mostrarCapital(result) {\r\n    const ciudad = result['name']\r\n    const temp = result['main']['temp']\r\n    const min = result['main']['temp_min']\r\n    const max = result['main']['temp_max']\r\n    const descripcion = result['weather'][0]['description']\r\n    resultado.innerHTML += `\r\n    <section class=\"flex-col justify-center mb-1 rounded bg-indigo-100\">\r\n        <h2 class=\"text-center p-3 uppercase\">Clima en ${ciudad}</h2>\r\n        <p class=\"text-center p-1\" >Temperatura Actual: ${temp}°</p>\r\n        <p class=\"text-center p-1\" >Temperatura Mínima: ${max}°</p>\r\n        <p class=\"text-center p-1 pb-3\" >Temperatura Máxima: ${min}°</p>\r\n        <p class=\"text-center p-1 pb-3\" >Temperatura Máxima: ${descripcion}</p>\r\n    </section>\r\n    `;   \r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"file":"app.dev.js"}