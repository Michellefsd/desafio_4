{"version":3,"sources":["app.js"],"names":["resultado","document","querySelector","formulario","terminoBusqueda","value","window","onload","addEventListener","validarFormulario","e","preventDefault","imprimirAlerta","buscarCapital","msj","existeAlerta","alerta","createElement","classList","add","textContent","appendChild","setTimeout","remove","capital","key","url","fetch","then","respuesta","json","result","console","log","mostrarCapital","ciudad","temp","min","max","descripcion","innerHTML"],"mappings":";;AAAA;AAEA;AACA;AACA;AACA,IAAMA,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAlB;AACA,IAAMC,UAAU,GAAGF,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAAnB;AACA,IAAME,eAAe,GAAGH,QAAQ,CAACC,aAAT,CAAuB,UAAvB,EAAmCG,KAA3D,C,CAEA;;AACAC,MAAM,CAACC,MAAP,GAAgB,YAAM;AAClBJ,EAAAA,UAAU,CAACK,gBAAX,CAA4B,QAA5B,EAAsCC,iBAAtC;AACH,CAFD,C,CAIA;AACA;AACA;;;AACA,SAASA,iBAAT,CAA2BC,CAA3B,EAA8B;AAC1BA,EAAAA,CAAC,CAACC,cAAF;;AACA,MAAGP,eAAe,KAAK,EAAvB,EAA2B;AACvBQ,IAAAA,cAAc,CAAC,oBAAD,CAAd;AACA;AACH;;AACDC,EAAAA,aAAa;AAChB,C,CAED;;;AACA,SAASD,cAAT,CAAwBE,GAAxB,EAA6B;AAEzB,MAAMC,YAAY,GAAGd,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAArB;;AACA,MAAG,CAACa,YAAJ,EAAkB;AACd,QAAMC,MAAM,GAAGf,QAAQ,CAACgB,aAAT,CAAuB,GAAvB,CAAf;AACAD,IAAAA,MAAM,CAACE,SAAP,CAAiBC,GAAjB,CAAqB,SAArB,EAAgC,aAAhC,EAA+C,WAA/C,EAA6D,WAA7D,EAA0E,SAA1E,EAAqF,YAArF,EAAmG,KAAnG,EAA0G,MAA1G,EAAkH,UAAlH,EAA8H,YAA9H,EAA4I,WAA5I;AACAH,IAAAA,MAAM,CAACI,WAAP,GAAqBN,GAArB;AACAd,IAAAA,SAAS,CAACqB,WAAV,CAAsBL,MAAtB;AACAM,IAAAA,UAAU,CAAC,YAAM;AACbN,MAAAA,MAAM,CAACO,MAAP;AACH,KAFS,EAEP,IAFO,CAAV;AAGH;AACJ,C,CAED;;;AACA,SAASV,aAAT,GAAyB;AACrB,MAAMW,OAAO,GAAGvB,QAAQ,CAACC,aAAT,CAAuB,UAAvB,EAAmCG,KAAnD;AACA,MAAMoB,GAAG,GAAG,kCAAZ;AACA,MAAMC,GAAG,8DAAuDF,OAAvD,oBAAwEC,GAAxE,0BAAT;AACAE,EAAAA,KAAK,CAACD,GAAD,CAAL,CACKE,IADL,CACU,UAAAC,SAAS;AAAA,WAAIA,SAAS,CAACC,IAAV,EAAJ;AAAA,GADnB,EAEKF,IAFL,CAEU,UAAAG,MAAM,EAAI;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACAG,IAAAA,cAAc,CAACH,MAAD,CAAd;AACP,GALD;AAMH,C,CAGD;;;AACA,SAASG,cAAT,CAAwBH,MAAxB,EAAgC;AAC5B,MAAMI,MAAM,GAAGJ,MAAM,CAAC,MAAD,CAArB;AACA,MAAMK,IAAI,GAAGL,MAAM,CAAC,MAAD,CAAN,CAAe,MAAf,CAAb;AACA,MAAMM,GAAG,GAAGN,MAAM,CAAC,MAAD,CAAN,CAAe,UAAf,CAAZ;AACA,MAAMO,GAAG,GAAGP,MAAM,CAAC,MAAD,CAAN,CAAe,UAAf,CAAZ;AACA,MAAMQ,WAAW,GAAGR,MAAM,CAAC,SAAD,CAAN,CAAkB,CAAlB,EAAqB,aAArB,CAApB;AACA/B,EAAAA,SAAS,CAACwC,SAAV,qJAEqDL,MAFrD,8EAGsDC,IAHtD,oFAIsDE,GAJtD,yFAK2DD,GAL3D,yFAM2DE,WAN3D;AASH","sourcesContent":["// variables\n\n// en resultado coloco la info\n// el formulario me muestra cuando iniciar las acciones\n// y el terminoBusqueda es el valor que tomo para hacer la API request\nconst resultado = document.querySelector('#resultado');\nconst formulario = document.querySelector('#formulario');\nconst terminoBusqueda = document.querySelector('#termino').value;\n\n// cuando cargue window escucha por el submit\nwindow.onload = () => {\n    formulario.addEventListener('submit', validarFormulario);\n}\n\n// al submit revisamos que tenga algun contenido\n// si esta vacio mostrara un mensaje\n// si tieneuna ciudad mostrara la ciudad\nfunction validarFormulario(e) {\n    e.preventDefault();\n    if(terminoBusqueda === '') {\n        imprimirAlerta('Agrega una capital');\n        return;\n    }\n    buscarCapital();\n} \n\n// definimos como se mostrara la alerta\nfunction imprimirAlerta(msj) {\n\n    const existeAlerta = document.querySelector('.bg-red-500');\n    if(!existeAlerta) {\n        const alerta = document.createElement('P');\n        alerta.classList.add('mx-auto', 'text-center', 'font-bold',  'uppercase', 'rounded', 'bg-red-500', 'p-3', 'mt-4', 'max-w-lg', 'text-white', 'border-lg' );\n        alerta.textContent = msj;\n        resultado.appendChild(alerta);\n        setTimeout(() => {\n            alerta.remove()\n        }, 3000)\n    }   \n}\n\n// hacemos la API request\nfunction buscarCapital() {\n    const capital = document.querySelector('#termino').value;\n    const key = '10971b499be61b351760e8d57f0e3a4d';\n    const url = `http://api.openweathermap.org/data/2.5/weather?q=${capital}&appid=${key}&units=metric&lang=es`;\n    fetch(url)\n        .then(respuesta => respuesta.json())\n        .then(result => {\n            console.log(result)\n            mostrarCapital(result);\n    })\n}\n\n\n// mostramos el resultado en pantalla\nfunction mostrarCapital(result) {\n    const ciudad = result['name']\n    const temp = result['main']['temp']\n    const min = result['main']['temp_min']\n    const max = result['main']['temp_max']\n    const descripcion = result['weather'][0]['description']\n    resultado.innerHTML += `\n    <section class=\"flex-col justify-center mb-1 rounded bg-indigo-100\">\n        <h2 class=\"text-center p-3 uppercase\">Clima en ${ciudad}</h2>\n        <p class=\"text-center p-1\" >Temperatura Actual: ${temp}°</p>\n        <p class=\"text-center p-1\" >Temperatura Mínima: ${max}°</p>\n        <p class=\"text-center p-1 pb-3\" >Temperatura Máxima: ${min}°</p>\n        <p class=\"text-center p-1 pb-3\" >Temperatura Máxima: ${descripcion}</p>\n    </section>\n    `;   \n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"file":"app.dev.js"}