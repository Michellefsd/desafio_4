"use strict";var key="10971b499be61b351760e8d57f0e3a4d",capitalesLatam=["buenos aires","la paz","brasilia","santiago de chile","san jose,cr","bogota","habana","quito","san salvador","guatemala","Port-au-Prince","tegucigalpa","mexico,mx","managua","panama","asuncion","lima","Santo Domingo","montevideo","caracas"],obtener_datos_climaticos=function(e){var n,u,t,i,r,c,s,o,m,p,l,d;return regeneratorRuntime.async(function(a){for(;;)switch(a.prev=a.next){case 0:n=e?[e]:capitalesLatam,u=[],i=!(t=!0),r=void 0,a.prev=5,c=n[Symbol.iterator]();case 7:if(t=(s=c.next()).done){a.next=15;break}return o=s.value,a.next=11,regeneratorRuntime.awrap(fetch("http://api.openweathermap.org/data/2.5/weather?q=".concat(o,"&appid=").concat(key,"&units=metric&lang=es")).then(function(a){return a.json()}).then(function(a){console.log(a);var e=a.name,n=a.sys.country,t=a.weather[0].description,i=a.main.feels_like,r=a.main.pressure,c=a.main.humidity,s=a.main.temp_max,o=a.main.temp_min;console.log("Ciudad: "+e+", país: "+n+", descripción del clima: "+t+", sensación térmica: "+i+"°, presión: "+r+"hPa, humedad: "+c+"%, temperatura mínima: "+o+"°, temperatura máxima: "+s+"°."),u.push({Capital:e,Pais:n,Descripcion:t,Sensacion:i,Presion:r,Humedad:c,Max:s,Min:o})}));case 11:a.sent;case 12:t=!0,a.next=7;break;case 15:a.next=21;break;case 17:a.prev=17,a.t0=a.catch(5),i=!0,r=a.t0;case 21:a.prev=21,a.prev=22,t||null==c.return||c.return();case 24:if(a.prev=24,i)throw r;a.next=27;break;case 27:return a.finish(24);case 28:return a.finish(21);case 29:m="data:text/csv;charset=utf-8,",m+=(p=["Capital","Pais","Descripcion","Sensacion","Presion","Humedad","Max","Min"]).join(";")+"\n",u.forEach(function(e){var a=p.map(function(a){return e[a]});m+=a.join(";")+"\n"}),l=encodeURI(m),(d=document.createElement("a")).setAttribute("href",l),d.setAttribute("download","datos_climaticos_latam.csv"),document.body.appendChild(d),d.click();case 39:case"end":return a.stop()}},null,null,[[5,17,21,29],[22,,24,28]])};
//# sourceMappingURL=ej_4-2.min.js.map
