Para este Ejercicio 4/2 Desplegué la siguiente lógica:

Plan Inicial: HAcerlo con javascript que tengo mas práctica y luego intentarlo con Python.

// Ejercicio 2: Escribe una función en Python llamada "obtener_datos_climaticos" que tome como argumento el nombre de la ciudad en español y realice una solicitud a la API pública de OpenWeatherMap para obtener 
// //  los datos climáticos de todas las ciudades capitales de LATAM, en español.  // // 
// El programa debe devolver un documento separado por puntos y comas de todas las capitales con datos como:
// •	nombre de la capital
// •	país
// •	descripción del clima 
// •	sensación térmica
// •	presión
// •	humedad
// •	temperatura mínima
// •	temperatura máxima. 
// Puedes encontrar la documentación de la API en https://openweathermap.org/api


// Paso 1 - Inscribirse en OpenWeather y leer parte de la documentacion

// Paso 2 - Identificar la Api que me sirve 
// https://openweathermap.org/api/one-call-3

// Paso 3 - Copiar el ejemplo en un async await en la carpeta "./js/ej_4-2.js"

// Paso 3 - Averiguar los países de LATAM
// Source: https://es.wikipedia.org/wiki/Am%C3%A9rica_Latina

// Paso 4 - Obtener sus Capitales:

// Argentina =                Buenos Aires
// Bolivia =                  La Paz
// Brasil =                   Brasília
// Chile =                    Santiago de Chile
// Colombia =                 Bogotá
// Costa Rica =               San José
// Cuba =                     Havana
// Ecuador =                  Quito
// El Salvador =              San Salvador
// Guatemala =                Guatemala
// Haití =                    Port-au-Prince
// Honduras =                 Tegucigalpa
// México =                   México DF
// Nicaragua =                Managua
// Panamá =                   Panamá
// Paraguay =                 Asunción
// Perú =                     Lima
// República Dominicana =     Santo Domingo
// Uruguay =                  Montevideo
// Venezuela =                Caracas

// Paso 5 - 
// Empiezo a Investigar GeoCoding
// miro este video
// "https://www.youtube.com/watch?v=nksauZe87Nw"

Plan Inicial: modificado.
Ahora voy a copiar textual el video en Python a ver q tal me va y 
luego intentaré transcribirlo a Javascript. 

Paso 6 - copio textual del video y me enfrento a dos problemas. 
1 - no se  ver codigo python en mi vscode y en el tutorial lo da por hecho:
solucion: 
#segui estos pasos para entender como habilitar que corra el programa de python en vscode
#https://learn.microsoft.com/en-us/training/modules/python-install-vscode/1-introduction 

2 - requests no funciona
solucion: 
#voy a esta otra pagina para encopntar el comando que falta 
#https://www.w3schools.com/python/module_requests.asp
"pip install requests"
No me anduvo. Mire un tutorial corto de instalacion de requests y lo instale correctamente
funciono el archivo python supero la fase de error de import requests


paso 7 - 
29/07/20233 23:29pm. 
me voy a dormir.


30/07/2023 10:30 am: Retomo
Hoy volvi a retomar con javascript.

1 -  Probe geocoding API en una api q ya tenia hecha y funciono me retorno la lat y longitud
hice un array en javascript con todas las capitales y sus codigos internacionales, 
const capitalesLatam = [
    "BuenosAires,AR", 
    "LaPaz,BO", 
    "Brasilia,BR", 
    "Santiago,Cl", 
    "Bogota,CO", 
    "LaHabana,CU", 
    "Quito,EC",  
    "Guatemala,GT",  
    "Tegucigalpa,HN", 
    "Mexico,MX", 
    "Managua,NI", 
    "Panama,PA", 
    "Asuncion,PY", 
    "Lima,PE", 
    "Montevideo,UY", 
    "Caracas,Ve"  
]
luego modifique el array, lo simplifique

Plan Modificado: Ahora hago Javascript y Python paralelos


voy a aislar obtener_datos_climaticos() y agregarle la lat y lon manualmente 
a ver si hay algun error en esa request
efectivamente no tengo permisos para acceder a esta parte . voy a mirar un video de python para descansar:
https://www.youtube.com/watch?v=9P5MY_2i7K8
https://www.youtube.com/watch?v=GXrDEA3SIOQ&t=531s

Logre con otra api_key usando el ejemplo que me mandaron por mail hacer el api request necesario
 para extraer toda la info en js. 
Ahora me tengo que organizar:

LOgros: api requests exitosas en js y python
Tambien me doy cuenta que geocode ya no es necesario.

--------------- PARTE 2 -------------

tengo el acceso a la data en python y en javascript y el codigo desordenado y 
lleno de pruebas encapsuladas en comentarios: 
voy a borrar las pruebas y a ordenar el codigo.

ok son las 16:30 y logre esto en python:
me falta la descripcion
Montevideo
UY
17.51
1017
63
18.01
19.84

volvi. son 16:47
16:51 estoy llorando de la emocion. este es el resultado obtenido:

Ciudad: Montevideo, país: UY, descripción del clima: cielo claro, 
sensación térmica: 17.51, presión: 1017, humedad: 63, 
temperatura mínima: 18.01, temperatura máxima: 19.84


son las 17:51 y tengo hecho en javascript y python la funcion que trae 
los datos de la ciudad que recibe como parametro.


--------------DUDAS-------------------------------
no entiendo para que escribir un pais si igual debo retornar 
un documento con todas las capitales latam y su info.

como quiere que le retorne el documento? 
como un dictionario, list, etc?

quizas la continuacion del ej 2 lo deje para despues de sacarme las dudas de como seguir

ej 3. hago un select con options y la q se elija devuelve la info en una pag. index.html 

mi approach fue un poco caotico lo fui escribiendo a tiempo real y tengo 300 lineas de 
codigo explicando las ideas que iban surgiendo y como estas se iban adaptando a la realidd 
q no era igual que la expectativa y como encontre diferentes formas de abordarlo entre q 
empezaba y luego estaba en un determinado punto y entonces cambiaba el rumbo de la 
aproximcion

Que significa que quiere que use scripts?
en este video usan scripts hay q verlo:
https://www.youtube.com/watch?v=PWZKTWJ9bJE

este habla de variables de entorno en python 
https://www.youtube.com/watch?v=w-V1pMrGAjc
me interesan los pasos 2 y 5.


le pregunte a chatGPT
al cual me devolvio esto:

______________________________________________________________________

import requests

def obtener_datos_climaticos(ciudad):
    # Sustituye 'TU_API_KEY' por tu propia API Key de OpenWeatherMap
    api_key = 'TU_API_KEY'
    url = f'http://api.openweathermap.org/data/2.5/weather?q={ciudad}&lang=es&appid={api_key}'

    try:
        response = requests.get(url)
        data = response.json()

        nombre_ciudad = data['name']
        pais = data['sys']['country']
        descripcion_clima = data['weather'][0]['description']
        sensacion_termica = data['main']['feels_like']
        presion = data['main']['pressure']
        humedad = data['main']['humidity']
        temp_minima = data['main']['temp_min']
        temp_maxima = data['main']['temp_max']

        # Devuelve la información en formato de cadena separada por puntos y comas
        return f'{nombre_ciudad};{pais};{descripcion_clima};{sensacion_termica};{presion};{humedad};{temp_minima};{temp_maxima}'

    except requests.exceptions.RequestException:
        return f'Error al obtener los datos climáticos para {ciudad}'

def obtener_datos_capitales_latam():
    # Lista de capitales de LATAM en español
    capitales_latam = [
        'Buenos Aires', 'Santiago', 'Bogotá', 'Quito', 'Caracas', 'Lima', 'La Paz', 'Brasilia',
        'San José', 'Ciudad de México', 'Ciudad de Panamá', 'Asunción', 'Lima', 'Montevideo', 'Quito',
        'Caracas', 'La Habana'
    ]

    datos_climaticos_capitales = []
    for capital in capitales_latam:
        datos = obtener_datos_climaticos(capital)
        datos_climaticos_capitales.append(datos)

    # Guarda los datos en un archivo
    with open('datos_climaticos_capitales_latam.csv', 'w') as file:
        file.write('Nombre Capital;País;Descripción Clima;Sensación Térmica;Presión;Humedad;Temp Min;Temp Max\n')
        for datos in datos_climaticos_capitales:
            file.write(datos + '\n')

if __name__ == "__main__":
    obtener_datos_capitales_latam()

_________________________________________________________________________________


 caramba... me siento boba de haber intentado hacerlo sola.
 de cualquier modo dejare mi codigo y tomare algunas cosas del codigo sugerido

Le pregunte a un amigo programador mis dudas y me dijo q 
tampoco le quedaba claro a el que querian si una lista de 
todas las capitales o el nombre del pais
me empezo a hablar de grabar a csv 
y me tiro esta idea:
1° aprende a grabar en disco con python un txt normal
2° aprende csv
confirmare las necesidades del proyecto en la reunion

const key = "10971b499be61b351760e8d57f0e3a4d"  javascript

reviso capital por capital para arreglar la lista

31/7 13:00pm 
Quiero usar una variable de entorno para proteger las keys
miro estos videos
https://www.youtube.com/watch?v=bcYKKX3ljlE&t=0s
https://www.youtube.com/watch?v=2J3xbMkH2K4
https://www.youtube.com/watch?v=IolxqkL7cD8


https://www.youtube.com/watch?v=DVVYHlGYIHY
pasos propuestos en este video:
1- en terminal "env" muestra las variables de entorno?
2- en terminal "export KEY=9640936096"
3- en ej_4-2.py import os
4- ,,, 
para empezar el 1- no me anda como dice asi q me voy a ver otro de los de la lista

ya mire videos de el y me gusta es muy prolijo y tiene un ingles claro.
https://www.youtube.com/watch?v=vcDfNvC6Ui4
el propone: 
1- en terminal: "setx API_KEY 8755848487"
2- en el archivo python 
import os
api_key=os.getenv("API_KEY")
Esto me funciono.
entre a powershell y accedi a esta carpeta para ver si esta mi variable de entorno
no he logrado leer la variable de entorno.

luego vi este video
https://www.youtube.com/watch?v=IolxqkL7cD8


y entre a: panel de control => sistemas y seguridad => sistema => (a la derecha en mi pc)
configuracion avanzada del sistema => variables de entorno   

Y esta mi API_KEY!!  que hice con "setx API_KEY fgfggfghf7f0e3a4d"
pero tb puedo agregar variables de entorno directamente ahi
Aqui se explica la necesidad de reiniciar el editor de codigo: probemos.
------------
Esta bien con esto comprobe que el video anterior ya me habia proporcionado 
la info correcta solo me faltaba refrescar
puedo acceder a la informacion con mi API_KEY protegida como variable de entorno en python

entre en python y organize el codigo para que te pregunte 
al entrar si deseas acceder a una capital o todas de latam

voy a reordenar los archivos y separar carpetas dentro de cada desafio para cada ejercicio

ahora:
1- puedo ver como acceder a mi variable de entorno en javascript... 
2- puedo actualizar e igualar a javascript con lo q va adelantado python
3- puedo averiguar como crear un documento (prefiero esperar a que me expliquen si es eso lo q hay q hacer)
4- empezar con el ej. 3
elijo 4 
 
1/8 10:30 am trabaje en ej 3 desafio 4 

le pregunte a chatgpt sobre las dudas que tenia, eran:
que significa: "crea un documento" ej2? y que significa usar scripts... ?
ej3- construye un script que......
me explico que masomenos significa usar el lenguaje en su estado puro 
sin librerias o frameworks complejos.


copio textual la parte final de la charla:

______________________________________________________________________

YO:
ok. me queda mas claro.  En el "Ejercicio 3, cuando dice valoramos el uso de scripts 
se refiere a que prefieren que no usemos frameworks... o librerias... como panda.. no? 
y en el ej2.... puedes explicarme como guardo archivos en un csv?
_________________
me devolvio esto: 
_________________
Exacto, cuando se menciona que "valoramos el uso de scripts" en el "Ejercicio 3," 
se refiere a que prefieren que no utilices frameworks o bibliotecas complejas 
como pandas para resolver el problema. En lugar de eso, lo ideal es que escribas un 
código sencillo y modular utilizando las bibliotecas estándar del lenguaje 
(Python o JavaScript) para realizar las tareas requeridas.

Para guardar archivos en formato CSV en Python, puedes seguir estos pasos:

1. Importa el módulo CSV: En Python, existe un módulo llamado `csv` que facilita 
la escritura y lectura de archivos CSV.

2. Abre un archivo CSV en modo de escritura: Puedes utilizar la función `open()` 
para abrir un archivo en modo de escritura ('w') y crear un objeto de escritura 
de CSV utilizando `csv.writer`.

3. Escribe los datos en el archivo: Utiliza los métodos proporcionados por el 
objeto de escritura de CSV para escribir filas de datos en el archivo.

Aquí hay un ejemplo de cómo podrías hacerlo:

```python
import csv

def guardar_datos_en_csv(datos, nombre_archivo):
    with open(nombre_archivo, 'w', newline='') as archivo_csv:
        escritor_csv = csv.writer(archivo_csv, delimiter=';')  # Puedes cambiar ';' por ',' si prefieres separación por comas.
        escritor_csv.writerow(['Nombre de la capital', 'País', 'Descripción del clima', 'Sensación térmica', 'Presión', 'Humedad', 'Temperatura mínima', 'Temperatura máxima'])
        
        for dato in datos:
            escritor_csv.writerow(dato)

# Ejemplo de uso:
datos_climaticos = [
    ['Caracas', 'Venezuela', 'Despejado', '30°C', '1015 hPa', '60%', '22°C', '33°C'],
    ['Buenos Aires', 'Argentina', 'Nublado', '15°C', '1012 hPa', '70%', '12°C', '18°C'],
    # Agrega más filas de datos aquí...
]

guardar_datos_en_csv(datos_climaticos, 'datos_climaticos.csv')
```

Este código creará un archivo llamado "datos_climaticos.csv" con los datos 
climáticos en formato CSV. Cada fila en el archivo corresponderá a los datos 
de una capital, y los campos estarán separados por puntos y comas (o comas, según lo elijas).

Si estás trabajando con JavaScript, también es posible guardar datos en formato CSV 
utilizando bibliotecas específicas, como "papaparse" o "fast-csv," 
pero para mantenerlo simple y sin usar bibliotecas adicionales, 
puedes escribir los datos directamente en un archivo de texto plano en el formato deseado.

_____________________________________________________________________________________________

hoy hice la pagina index.html termine el desafio 2 revise todos los codigos,
acomode las documentaciones, hice el ej1 del desafio 4 en python.
termine los ejercicios 1 y 3 del desafio 4 en Python y Javascript.
